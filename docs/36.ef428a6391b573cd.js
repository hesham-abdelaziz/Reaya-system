"use strict";(self.webpackChunkreaya=self.webpackChunkreaya||[]).push([[36],{6090:(M,A,c)=>{c.d(A,{P:()=>w});var h=c(7579),p=c(2340),l=c(4650),e=c(529),v=c(7185);let w=(()=>{class T{constructor(d,u){this.http=d,this.toastr=u,this.url=p.N.baseUrl,this.adPublished=new h.x,this.adDeleted=new h.x,this.adsArray=new h.x,this.filterdArray=new h.x}getAllAds(){this.http.get(this.url+"api/ads").subscribe({next:d=>{this.adsArray.next(d)},error:d=>{console.log(d)}})}filterAds(d,u,m,_){this.http.get(this.url+"api/ads/filter/"+d+"/"+u+"/"+m+"/"+_).subscribe({next:Z=>{this.adsArray.next(Z)},error:Z=>{console.log(Z)}})}addNew(d,u,m){this.http.post(this.url+"api/ads/new",{clinic:d,doctor:u,discount:m}).subscribe({next:_=>{console.log(_),this.adPublished.next(!0),this.toastr.success(_.message)},error:_=>{"ValidationError"==_.error.message.name&&this.toastr.error("Ad exists for this clinic!")}})}deleteAd(d){this.http.delete(this.url+"api/ads/"+d).subscribe({next:u=>{console.log(u),this.adDeleted.next(!0),this.toastr.success(u.message)},error:u=>{console.log(u)}})}}return T.\u0275fac=function(d){return new(d||T)(l.LFG(e.eN),l.LFG(v._W))},T.\u0275prov=l.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},36:(M,A,c)=>{c.d(A,{m:()=>tt});var h=c(3060),p=c(6895),l=c(4006),e=c(4650),v=c(9013),w=c(7480),T=c(5490),C=c(4859),d=c(7392),u=c(9602),m=c(9549),_=c(4144),Z=c(4385),y=c(3238),N=c(1572);function D(i,s){if(1&i&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function k(i,s){1&i&&(e.TgZ(0,"mat-label"),e._uU(1,"Governorate"),e.qZA())}function F(i,s){1&i&&(e.TgZ(0,"mat-label"),e._UZ(1,"mat-spinner",30),e.qZA())}function O(i,s){if(1&i&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.governorate_name_en," ")}}function P(i,s){1&i&&(e.TgZ(0,"mat-label"),e._uU(1,"Select a city"),e.qZA())}function Y(i,s){1&i&&(e.TgZ(0,"mat-label"),e._UZ(1,"mat-spinner",30),e.qZA())}function Q(i,s){if(1&i&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.city_name_en),e.xp6(1),e.hij(" ",t.city_name_en," ")}}function E(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,a=e.oxw();return e.KtG(a.delete(o))}),e.TgZ(1,"mat-icon"),e._uU(2," delete_forever "),e.qZA()()}}function G(i,s){if(1&i&&(e.TgZ(0,"div",31)(1,"mat-form-field",32)(2,"mat-label"),e._uU(3,"Position"),e.qZA(),e._UZ(4,"input",33),e.qZA(),e.TgZ(5,"mat-form-field",32)(6,"mat-label"),e._uU(7,"Location"),e.qZA(),e._UZ(8,"input",34),e.qZA(),e.TgZ(9,"mat-form-field",32)(10,"mat-label"),e._uU(11,"From"),e.qZA(),e._UZ(12,"input",35)(13,"mat-datepicker-toggle",36)(14,"mat-datepicker",null,37),e.qZA(),e.TgZ(16,"mat-form-field",32)(17,"mat-label"),e._uU(18,"To"),e.qZA(),e._UZ(19,"input",38)(20,"mat-datepicker-toggle",36)(21,"mat-datepicker",null,39),e.qZA(),e.YNc(23,E,3,0,"button",40),e.qZA()),2&i){const t=s.index,n=e.MAs(15),o=e.MAs(22),a=e.oxw();e.Q6J("formGroupName",t),e.xp6(12),e.Q6J("matDatepicker",n),e.xp6(1),e.Q6J("for",n),e.xp6(6),e.Q6J("matDatepicker",o),e.xp6(1),e.Q6J("for",o),e.xp6(3),e.Q6J("ngIf",a.experiences.length>1)}}let L=(()=>{class i{constructor(t,n,o,a){this.doctorService=t,this.countryService=o,this.fb=a,this.user=JSON.parse(localStorage.getItem("user")),this.governorates=[],this.cities=[],n.getAll(),n.specialityArray.subscribe(r=>{this.specialites=r})}ngOnInit(){this.loadingGov=!0,this.form=this.fb.group({firstName:new l.NI,lastName:new l.NI,email:new l.NI,phone:new l.NI,about:new l.NI,degree:new l.NI,speciality:new l.NI,governorate:new l.NI,city:new l.NI,experiences:this.fb.array([])}),this.doctorService.getSingleDoctor(this.user.id),this.doctorService.singleDoctor.subscribe(t=>{if(console.log(t),this.doctor=t,this.isLoading=!0,this.countryService.getCities(t.governorate).subscribe({next:n=>{this.isLoading=!1,this.cities=n},error:n=>{console.log(n)}}),this.form.patchValue({firstName:t.firstName,lastName:t.lastName,email:t.email,phone:t.phone,about:t.about,degree:t.degree,speciality:t.speciality,governorate:t.governorate,city:t.city}),t.experiences.length>0){console.log("experience exist!");for(let n=0;n<t.experiences.length;n++)this.appendExperience(t.experiences[n].position,t.experiences[n].location,t.experiences[n].from,t.experiences[n].to)}else this.addExperience()}),this.countryService.getAll().subscribe({next:t=>{this.loadingGov=!1,this.governorates=t[0].data},error:t=>{console.log(t)}})}get experiences(){return this.form.get("experiences")}addExperience(){this.experiences.push(new l.cw({position:new l.NI(""),location:new l.NI(""),from:new l.NI(""),to:new l.NI("")}))}appendExperience(t,n,o,a){let r=new l.cw({position:new l.NI(t),location:new l.NI(n),from:new l.NI(new p.uU("en-US").transform(a,"MM-dd-yyyy")),to:new l.NI(new p.uU("en-US").transform(a,"MM-dd-yyyy"))});r.controls.from.setValue(o),r.controls.to.setValue(a),this.experiences.push(r)}update(t){this.doctorService.doctorUpdate(this.user.id,t),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{location.reload()},2500)}getCities(t){this.isLoading=!0,this.cities=[],this.countryService.getCities(t).subscribe({next:n=>{this.isLoading=!1,this.cities=n},error:n=>{console.log(n)}})}delete(t){this.experiences.removeAt(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.O),e.Y36(w.d),e.Y36(T.T),e.Y36(l.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-account-settings"]],decls:71,vars:10,consts:[[3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","type","text","formControlName","firstName"],["matInput","","type","text","formControlName","lastName"],["matInput","","type","email","formControlName","email"],["matInput","","type","tel","formControlName","phone"],["appearance","outline",2,"width","100%"],["matInput","","formControlName","about"],["formControlName","degree"],["value","General_Practitioner"],["value","Specialist"],["value","Consultant"],["value","Teaching_Assistant"],["value","Assistant_Lecturer"],["value","Lecturer"],["value","Associate_Professor"],["value","Professor"],["formControlName","speciality"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",1,"w-100"],[4,"ngIf"],["formControlName","governorate",3,"selectionChange"],["gov",""],["formControlName","city",3,"disabled"],["formArrayName","experiences"],[1,"d-flex","justify-content-between"],["mat-icon-button","",1,"d-flex","align-items-center",2,"cursor","pointer",3,"click"],["class","d-flex justify-content-between experiences","style","position: relative;",3,"formGroupName",4,"ngFor","ngForOf"],["mat-raised-button","",1,"mainBtn"],[3,"value"],[1,"selectLoad"],[1,"d-flex","justify-content-between","experiences",2,"position","relative",3,"formGroupName"],["appearance","outline",2,"width","20%"],["matInput","","type","text","formControlName","position"],["matInput","","type","text","formControlName","location"],["matInput","","formControlName","from",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","to",3,"matDatepicker"],["picker2",""],["style","position: absolute; left: -40px; top: 10px;","mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",2,"position","absolute","left","-40px","top","10px",3,"click"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.update(n.form.value)}),e.TgZ(1,"mat-form-field",1)(2,"mat-label"),e._uU(3,"First Name"),e.qZA(),e._UZ(4,"input",2),e.qZA(),e.TgZ(5,"mat-form-field",1)(6,"mat-label"),e._uU(7,"Last Name"),e.qZA(),e._UZ(8,"input",3),e.qZA(),e.TgZ(9,"mat-form-field",1)(10,"mat-label"),e._uU(11,"Email"),e.qZA(),e._UZ(12,"input",4),e.qZA(),e.TgZ(13,"mat-form-field",1)(14,"mat-label"),e._uU(15,"Phone"),e.qZA(),e._UZ(16,"input",5),e.qZA(),e.TgZ(17,"mat-form-field",6)(18,"mat-label"),e._uU(19,"About"),e.qZA(),e._UZ(20,"textarea",7),e.qZA(),e.TgZ(21,"mat-form-field",6)(22,"mat-label"),e._uU(23,"Degree"),e.qZA(),e.TgZ(24,"mat-select",8)(25,"mat-option",9),e._uU(26," General Practitioner"),e.qZA(),e.TgZ(27,"mat-option",10),e._uU(28," Specialist"),e.qZA(),e.TgZ(29,"mat-option",11),e._uU(30," Consultant "),e.qZA(),e.TgZ(31,"mat-option",12),e._uU(32," Teaching Assistant "),e.qZA(),e.TgZ(33,"mat-option",13),e._uU(34," Assistant Lecturer"),e.qZA(),e.TgZ(35,"mat-option",13),e._uU(36," Assistant Lecturer"),e.qZA(),e.TgZ(37,"mat-option",14),e._uU(38," Lecturer"),e.qZA(),e.TgZ(39,"mat-option",15),e._uU(40," Associate Professor"),e.qZA(),e.TgZ(41,"mat-option",16),e._uU(42," Professor"),e.qZA()()(),e.TgZ(43,"mat-form-field",6)(44,"mat-label"),e._uU(45,"Speciality"),e.qZA(),e.TgZ(46,"mat-select",17),e.YNc(47,D,2,2,"mat-option",18),e.qZA()(),e.TgZ(48,"mat-form-field",19),e.YNc(49,k,2,0,"mat-label",20),e.YNc(50,F,2,0,"mat-label",20),e.TgZ(51,"mat-select",21,22),e.NdJ("selectionChange",function(){e.CHM(o);const r=e.MAs(52);return e.KtG(n.getCities(r.value))}),e.YNc(53,O,2,2,"mat-option",18),e.qZA()(),e.TgZ(54,"mat-form-field",19),e.YNc(55,P,2,0,"mat-label",20),e.YNc(56,Y,2,0,"mat-label",20),e.TgZ(57,"mat-select",23),e.YNc(58,Q,2,2,"mat-option",18),e.qZA()(),e.TgZ(59,"div",24)(60,"div",25)(61,"h4"),e._uU(62,"Experiences"),e.qZA(),e.TgZ(63,"span",26),e.NdJ("click",function(){return n.addExperience()}),e.TgZ(64,"mat-icon"),e._uU(65," add "),e.qZA(),e._uU(66," Add more "),e.qZA()(),e.YNc(67,G,24,6,"div",27),e.qZA(),e.TgZ(68,"div")(69,"button",28),e._uU(70,"Update"),e.qZA()()()}2&t&&(e.Q6J("formGroup",n.form),e.xp6(47),e.Q6J("ngForOf",n.specialites),e.xp6(2),e.Q6J("ngIf",!n.loadingGov),e.xp6(1),e.Q6J("ngIf",n.loadingGov),e.xp6(3),e.Q6J("ngForOf",n.governorates),e.xp6(2),e.Q6J("ngIf",!n.isLoading),e.xp6(1),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("disabled",n.isLoading),e.xp6(1),e.Q6J("ngForOf",n.cities),e.xp6(9),e.Q6J("ngForOf",null==n.experiences?null:n.experiences.controls))},dependencies:[p.sg,p.O5,C.lW,d.Hw,u.Mq,u.hl,u.nW,m.KE,m.hX,m.R9,_.Nt,Z.gD,y.ey,N.Ou,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,l.x0,l.CE],styles:["form{border:1px solid #f0f0f0;padding:10px;display:flex;justify-content:space-between;flex-wrap:wrap}mat-form-field{width:45%}.experiences{border-bottom:1px solid #ccc;margin-bottom:12px}@media (max-width : 768px){form{flex-direction:column}mat-form-field{width:100%}.experiences{flex-direction:column}.experiences mat-form-field{width:100%!important}}:host{width:100%;height:100%;display:block;position:relative}.selectLoad svg{width:20px!important;height:20px!important}\n"],encapsulation:2}),i})(),K=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-appointments"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"appointments works!"),e.qZA())}}),i})();function j(i,s){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.message)}}function H(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"Unmatched repeat password!"),e.qZA())}let B=(()=>{class i{constructor(t){this.doctorService=t,this.user=JSON.parse(localStorage.getItem("user")),this.message=""}ngOnInit(){this.form=new l.cw({oldPassword:new l.NI(null,l.kI.required),newPassword:new l.NI(null,l.kI.required),repeatPassword:new l.NI(null,l.kI.required)}),this.doctorService.errorSub.subscribe(t=>{this.message=t,this.form.get("oldPassword").setErrors({required:!0})})}change(t){this.form.invalid||(this.doctorService.changePassword(this.user.id,t),setTimeout(()=>{location.reload()},2500))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-change-password"]],decls:20,vars:4,consts:[[3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","type","password","formControlName","oldPassword"],[4,"ngIf"],["matInput","","type","password","formControlName","newPassword"],["nPassword",""],["matInput","","type","password","formControlName","repeatPassword"],["rPassword",""],["mat-raised-button","",1,"mainBtn",3,"disabled"]],template:function(t,n){if(1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.change(n.form.value)}),e.TgZ(1,"mat-form-field",1)(2,"mat-label"),e._uU(3,"Old password"),e.qZA(),e._UZ(4,"input",2),e.YNc(5,j,2,1,"mat-error",3),e.qZA(),e.TgZ(6,"mat-form-field",1)(7,"mat-label"),e._uU(8,"New password"),e.qZA(),e._UZ(9,"input",4,5),e.qZA(),e.TgZ(11,"mat-form-field",1)(12,"mat-label"),e._uU(13,"Repeat password"),e.qZA(),e._UZ(14,"input",6,7),e.YNc(16,H,2,0,"mat-error",3),e.qZA(),e.TgZ(17,"div")(18,"button",8),e._uU(19,"Change"),e.qZA()()()),2&t){const o=e.MAs(10),a=e.MAs(15);e.Q6J("formGroup",n.form),e.xp6(5),e.Q6J("ngIf",n.message.length>0),e.xp6(11),e.Q6J("ngIf",a.value!=o.value),e.xp6(2),e.Q6J("disabled",a.value!=o.value)}},dependencies:[p.O5,C.lW,m.TO,m.KE,m.hX,_.Nt,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],styles:["form[_ngcontent-%COMP%]{border:1px solid #f0f0f0;padding:10px;flex-wrap:wrap;flex-direction:column}mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]{width:100%;height:100%;display:block;position:relative}"]}),i})();var g=c(9651),R=c(9521),U=c(2818),b=c(7331),W=c(801),q=c(2340),x=c(6982),X=c(6090),I=c(8255),V=c(266),$=c(455),z=c(3868),J=c(9485),ee=c(1135),te=c(529),ie=c(7185);let ne=(()=>{class i{constructor(t,n){this.http=t,this.toastr=n,this.url=q.N.baseUrl,this.timeUpdated=new ee.X(!1)}addTime(t,n){this.http.post(this.url+"api/clinic/time/"+t,n).subscribe({next:o=>{this.timeUpdated.next(!0)},error:o=>{this.showErr(o.error.message)}})}showErr(t){this.toastr.error(t)}editTime(t,n){this.http.put(this.url+"api/clinic/edit/time/"+t,n).subscribe({next:o=>{console.log(o),this.timeUpdated.next(!0)},error:o=>{console.log(o)}})}deleteTime(t,n){this.http.put(this.url+"api/clinic/delete/time/"+t,n).subscribe({next:o=>{console.log(o),this.timeUpdated.next(!0)},error:o=>{console.log(o)}})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(te.eN),e.LFG(ie._W))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var f=c(7155);function oe(i,s){if(1&i&&(e.TgZ(0,"h4",13),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.isEditing?"Edit time":"Add new time"," ")}}function se(i,s){1&i&&(e.TgZ(0,"h4",14),e._uU(1," Attention! "),e.qZA())}function le(i,s){1&i&&(e.TgZ(0,"h5"),e._uU(1," Are you sure you want to delete this time ? "),e.qZA())}function ae(i,s){if(1&i&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.day),e.xp6(1),e.hij(" ",t.day," ")}}function ce(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"form",15),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onAdd(o.form.value))}),e.TgZ(1,"mat-form-field")(2,"mat-label"),e._uU(3,"Select day"),e.qZA(),e.TgZ(4,"mat-select",16),e.YNc(5,ae,2,2,"mat-option",17),e.qZA(),e.TgZ(6,"mat-error"),e._uU(7,"This field is required!"),e.qZA()(),e.TgZ(8,"mat-form-field")(9,"mat-label"),e._uU(10,"From"),e.qZA(),e._UZ(11,"input",18),e.TgZ(12,"mat-error"),e._uU(13,"This field is required!"),e.qZA()(),e.TgZ(14,"mat-form-field")(15,"mat-label"),e._uU(16,"To"),e.qZA(),e._UZ(17,"input",19),e.TgZ(18,"mat-error"),e._uU(19,"This field is required!"),e.qZA()(),e.TgZ(20,"div",20)(21,"button",21),e._uU(22,"Add"),e.qZA(),e.TgZ(23,"button",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().close,a=e.oxw();return e.KtG(o(a.clearForm()))}),e._uU(24,"Cancel"),e.qZA()()()}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.form),e.xp6(5),e.Q6J("ngForOf",t.days)}}function re(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",24)(1,"button",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onDelete())}),e._uU(2,"Delete"),e.qZA(),e.TgZ(3,"button",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().close;return e.KtG(o())}),e._uU(4,"Close"),e.qZA()()}}function me(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",5),e.YNc(1,oe,2,1,"h4",6),e.YNc(2,se,2,0,"h4",7),e.TgZ(3,"button",8),e.NdJ("click",function(){const a=e.CHM(t).dismiss,r=e.oxw();return e.KtG(a(r.clearForm()))}),e.qZA()(),e.TgZ(4,"div",9),e.YNc(5,le,2,0,"h5",10),e.YNc(6,ce,25,2,"form",11),e.qZA(),e.YNc(7,re,5,0,"div",12)}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isDeleting),e.xp6(1),e.Q6J("ngIf",t.isDeleting),e.xp6(3),e.Q6J("ngIf",t.isDeleting),e.xp6(1),e.Q6J("ngIf",!t.isDeleting),e.xp6(1),e.Q6J("ngIf",t.isDeleting)}}function de(i,s){1&i&&(e.TgZ(0,"div",27)(1,"h5"),e._uU(2,"No availabe times!"),e.qZA()())}function pe(i,s){1&i&&(e.TgZ(0,"div",28),e._UZ(1,"mat-spinner"),e.qZA())}function ue(i,s){1&i&&(e.TgZ(0,"th",38),e._uU(1," Day "),e.qZA())}function _e(i,s){if(1&i&&(e.TgZ(0,"td",39),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij("",t.day," ")}}function ge(i,s){1&i&&(e.TgZ(0,"th",38),e._uU(1," From "),e.qZA())}function fe(i,s){if(1&i&&(e.TgZ(0,"td",39),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.from,"shortTime")," ")}}function he(i,s){1&i&&(e.TgZ(0,"th",38),e._uU(1," To "),e.qZA())}function Te(i,s){if(1&i&&(e.TgZ(0,"td",39),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.to,"shortTime")," ")}}function Ce(i,s){1&i&&e._UZ(0,"th",38)}function Ze(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",39)(1,"button",40),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw(2),S=e.MAs(1);return e.KtG(r.editTime(S,a))}),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA()(),e.TgZ(4,"button",40),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw(2),S=e.MAs(1);return e.KtG(r.deleteTime(S,a))}),e.TgZ(5,"mat-icon"),e._uU(6,"delete"),e.qZA()()()}}function ve(i,s){1&i&&e._UZ(0,"tr",41)}function xe(i,s){1&i&&e._UZ(0,"tr",42)}function be(i,s){if(1&i&&(e.TgZ(0,"table",29),e.ynx(1,30),e.YNc(2,ue,2,0,"th",31),e.YNc(3,_e,2,1,"td",32),e.BQk(),e.ynx(4,33),e.YNc(5,ge,2,0,"th",31),e.YNc(6,fe,3,4,"td",32),e.BQk(),e.ynx(7,34),e.YNc(8,he,2,0,"th",31),e.YNc(9,Te,3,4,"td",32),e.BQk(),e.ynx(10,35),e.YNc(11,Ce,1,0,"th",31),e.YNc(12,Ze,7,0,"td",32),e.BQk(),e.YNc(13,ve,1,0,"tr",36),e.YNc(14,xe,1,0,"tr",37),e.qZA()),2&i){const t=e.oxw();e.Q6J("dataSource",t.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}let Ae=(()=>{class i{constructor(t,n,o,a){this.modalService=n,this.timeService=o,this.clinicService=a,this.displayedColumns=["day","from","to","actions"],this.dataSource=[],this.days=[{day:"Saturday"},{day:"Sunday"},{day:"Monday"},{day:"Tuesday"},{day:"Wednesday"},{day:"Thursday"},{day:"Friday"}],t.backdrop="static",t.keyboard=!1}ngOnInit(){this.isLoading=!0,this.timeService.timeUpdated.subscribe(t=>{console.log(t),this.modalService.dismissAll(),this.getClinic()}),this.getClinic(),this.form=new l.cw({day:new l.NI(null,l.kI.required),from:new l.NI(null,l.kI.required),to:new l.NI(null,l.kI.required)})}addTime(t){this.isDeleting=!1,this.isEditing=!1,this.modalService.open(t)}onAdd(t){this.form.invalid||(this.time?this.timeService.editTime(this.time._id,t):this.timeService.addTime(this.clinicId,t))}clearForm(){this.form.reset()}deleteTime(t,n){this.time=n,this.isDeleting=!0,this.isEditing=!1,this.modalService.open(t)}editTime(t,n){console.log(n),this.time=n,this.isDeleting=!1,this.isEditing=!0;const o=new Date(n.from).toLocaleTimeString(),a=new Date(n.to).toLocaleTimeString();console.log(o),this.form.patchValue({day:n.day,from:o,to:a}),this.modalService.open(t)}onDelete(){this.isLoading=!0,this.timeService.deleteTime(this.clinicId,this.time),this.modalService.dismissAll(),this.getClinic()}getClinic(){this.isLoading=!0,this.clinicService.getSingleClinic(this.clinicId),this.clinicService.singleClinic.subscribe(t=>{this.dataSource=t.times,setTimeout(()=>{this.isLoading=!1},600)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g.NM),e.Y36(g.FF),e.Y36(ne),e.Y36(U.j))},i.\u0275cmp=e.Xpm({type:i,selectors:[["time-table"]],inputs:{id:"id",clinicId:"clinicId"},features:[e._Bn([g.NM,g.FF])],decls:10,vars:3,consts:[["content",""],["mat-raised-button","",1,"mainBtn",3,"click"],["class","text-center p-2 mt-3",4,"ngIf"],["class","d-flex justify-content-center align-items-center d-none",4,"ngIf"],["mat-table","","class","w-100",3,"dataSource",4,"ngIf"],[1,"modal-header"],["class","modal-title","id","modal-basic-title",4,"ngIf"],["class","modal-title text-danger","id","modal-basic-title",4,"ngIf"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[4,"ngIf"],["class","d-flex flex-column align-items-center",3,"formGroup","ngSubmit",4,"ngIf"],["class","modal-footer",4,"ngIf"],["id","modal-basic-title",1,"modal-title"],["id","modal-basic-title",1,"modal-title","text-danger"],[1,"d-flex","flex-column","align-items-center",3,"formGroup","ngSubmit"],["formControlName","day"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","time","formControlName","from"],["matInput","","type","time","formControlName","to"],[1,"modal-footer","mt-2","w-100"],["mat-raised-button","",1,"mainBtn","me-2"],["mat-raised-button","","type","button",3,"click"],[3,"value"],[1,"modal-footer"],["mat-raised-button","",1,"mainBtn","me-2",3,"click"],["mat-raised-button","",3,"click"],[1,"text-center","p-2","mt-3"],[1,"d-flex","justify-content-center","align-items-center","d-none"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","day"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","from"],["matColumnDef","to"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,n){if(1&t){const o=e.EpF();e.YNc(0,me,8,5,"ng-template",null,0,e.W1O),e.TgZ(2,"div")(3,"button",1),e.NdJ("click",function(){e.CHM(o);const r=e.MAs(1);return e.KtG(n.addTime(r))}),e.TgZ(4,"mat-icon"),e._uU(5,"timer"),e.qZA(),e._uU(6," Add new time "),e.qZA()(),e.YNc(7,de,3,0,"div",2),e.YNc(8,pe,2,0,"div",3),e.YNc(9,be,15,3,"table",4)}2&t&&(e.xp6(7),e.Q6J("ngIf",0==n.dataSource.length&&!n.isLoading),e.xp6(1),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("ngIf",n.dataSource.length>0&&!n.isLoading))},dependencies:[p.sg,p.O5,f.BZ,f.fO,f.as,f.w1,f.Dz,f.nj,f.ge,f.ev,f.XQ,f.Gk,C.lW,d.Hw,m.TO,m.KE,m.hX,_.Nt,Z.gD,y.ey,N.Ou,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,p.uU],styles:["mat-form-field[_ngcontent-%COMP%]{width:80%}"]}),i})();function we(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Value must be greater than 0 and less than 100 "),e.qZA())}function ye(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",21),e._UZ(1,"hr"),e.TgZ(2,"mat-slide-toggle",22),e.NdJ("change",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.toggle(o))}),e._uU(3),e.qZA(),e.TgZ(4,"form",23)(5,"mat-form-field",24)(6,"mat-label"),e._uU(7,"Discount percentage"),e.qZA(),e._UZ(8,"input",25,26)(10,"fa-icon",27),e.YNc(11,we,2,0,"mat-error",28),e.qZA()(),e.TgZ(12,"div",29)(13,"button",30),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(9),a=e.oxw(2);return e.KtG(a.publishAd(o.value))}),e._uU(14,"Publish"),e.qZA(),e.TgZ(15,"button",31),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().close;return e.KtG(o())}),e._uU(16,"Close"),e.qZA()()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Oqu(t.value?"Remove discount":"Add discount"),e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(6),e.Q6J("icon",t.percent),e.xp6(1),e.Q6J("ngIf",t.form.get("discount").value>=100||t.form.get("discount").value<0),e.xp6(2),e.Q6J("disabled",t.form.get("discount").value>100||t.form.get("discount").value<0)}}function Ne(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",32)(1,"button",33),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.publishAd())}),e._uU(2,"Delete ad"),e.qZA(),e.TgZ(3,"button",31),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().close;return e.KtG(o())}),e._uU(4,"Close"),e.qZA()()}}function Ue(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",15)(1,"h4",16),e._uU(2),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){const a=e.CHM(t).dismiss;return e.KtG(a())}),e.qZA()(),e.TgZ(4,"div",18)(5,"h5"),e._uU(6),e.qZA(),e.YNc(7,ye,17,5,"div",19),e.YNc(8,Ne,5,0,"div",20),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.ekj("text-danger",t.isDeleting),e.xp6(1),e.hij(" ",t.isDeleting?"Attention!":"Publishing ad"," "),e.xp6(4),e.hij(" ",t.isDeleting?"Are you sure you want to delete ad for this clinic ?":"Would you like to add this clinic information to the published ad ?"," "),e.xp6(1),e.Q6J("ngIf",!t.isDeleting),e.xp6(1),e.Q6J("ngIf",t.isDeleting)}}function Ie(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),a=e.MAs(1);return e.KtG(o.onDelete(a))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Delete ad"),e.qZA()()}}function Se(i,s){if(1&i&&e._UZ(0,"img",35),2&i){const t=e.oxw().$implicit;e.Q6J("src",t,e.LSH)}}function qe(i,s){1&i&&e.YNc(0,Se,1,1,"ng-template",34)}function Je(i,s){if(1&i&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t," ")}}const Me=function(){return{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}},De=function(){return{clickable:!0}};x.ZP.use([x.W_,x.tl,x.lI,x.rj]);let ke=(()=>{class i{constructor(t,n,o,a){this.clinicService=t,this.modalService=o,this.adService=a,this.user=JSON.parse(localStorage.getItem("user")),this.percent=W.jGC,this.url=q.N.baseUrl,this.clinic=[],this.value=!1,this.edit=new e.vpe,this.delete=new e.vpe,n.backdrop="static",n.keyboard=!1}ngOnInit(){this.form=new l.cw({discount:new l.NI(null,l.kI.required)}),this.form.get("discount").disable(),this.getClinic(),this.adService.adPublished.subscribe(t=>{this.getClinic(),this.modalService.dismissAll()}),this.adService.adDeleted.subscribe(t=>{this.getClinic(),this.modalService.dismissAll()})}ngOnDestroy(){this.clinicSub.unsubscribe()}toggle(t){this.value=t.checked,this.value?this.form.get("discount").enable():this.form.get("discount").disable()}editClinic(){this.edit.next(this.clinic)}deleteClinic(){this.delete.next(this.clinic)}onPublish(t){this.isDeleting=!1,0!=this.clinic.times.length&&this.modalService.open(t)}onDelete(t){this.isDeleting=!0,this.modalService.open(t)}publishAd(t){this.isDeleting?this.adService.deleteAd(this.clinic._id):this.adService.addNew(this.clinic,this.user,t)}getClinic(){this.clinicService.getSingleClinic(this.id),this.clinicSub=this.clinicService.singleClinic.subscribe(t=>{console.log(t),this.clinic=t})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(U.j),e.Y36(g.NM),e.Y36(g.FF),e.Y36(X.P))},i.\u0275cmp=e.Xpm({type:i,selectors:[["clinic"]],inputs:{id:"id"},outputs:{edit:"edit",delete:"delete"},features:[e._Bn([g.NM,g.FF])],decls:61,vars:21,consts:[["content",""],[1,"row"],[1,"text-end"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","","matTooltipPosition","before","matTooltipClass","tooltop-font",3,"matTooltip","click"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[1,"col-xxl-6","col-xl-6","col-lg-6","col-md-12","col-sm-12","col-12"],[1,"details"],[3,"effect","grabCursor","centeredSlides","slidesPerView","coverflowEffect","pagination"],[4,"ngFor","ngForOf"],[1,"services"],[1,"d-flex","flex-row","justify-content-between","flex-wrap"],[3,"clinicId"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["class","d-flex flex-column ",4,"ngIf"],["class","modal-footer",4,"ngIf"],[1,"d-flex","flex-column"],["color","primary",3,"change"],[1,"d-flex","flex-row","justify-content-between","align-items-baseline",3,"formGroup"],[1,"w-100"],["matInput","","type","number","min","0","max","100","formControlName","discount"],["discount",""],["matSuffix","",3,"icon"],[4,"ngIf"],[1,"modal-footer","mt-4","w-100","align-self-end"],["mat-raised-button","",1,"mainBtn","me-2",3,"disabled","click"],["mat-raised-button","",3,"click"],[1,"modal-footer"],["mat-raised-button","",1,"mainBtn","me-2",3,"click"],["swiperSlide",""],[3,"src"]],template:function(t,n){if(1&t){const o=e.EpF();e.YNc(0,Ue,9,6,"ng-template",null,0,e.W1O),e.TgZ(2,"div",1)(3,"div",2)(4,"button",3)(5,"mat-icon"),e._uU(6,"more_vert"),e.qZA()(),e.TgZ(7,"mat-menu",null,4)(9,"button",5),e.NdJ("click",function(){e.CHM(o);const r=e.MAs(1);return e.KtG(n.onPublish(r))}),e.TgZ(10,"mat-icon"),e._uU(11,"publish"),e.qZA(),e.TgZ(12,"span"),e._uU(13,"Publish Ad"),e.qZA()(),e.YNc(14,Ie,5,0,"button",6),e.TgZ(15,"button",7),e.NdJ("click",function(){return n.editClinic()}),e.TgZ(16,"mat-icon"),e._uU(17,"edit"),e.qZA(),e.TgZ(18,"span"),e._uU(19,"Edit"),e.qZA()(),e.TgZ(20,"button",7),e.NdJ("click",function(){return n.deleteClinic()}),e.TgZ(21,"mat-icon"),e._uU(22,"delete_forever"),e.qZA(),e.TgZ(23,"span"),e._uU(24,"Delete"),e.qZA()()()(),e.TgZ(25,"div",8)(26,"h4"),e._uU(27,"Clinic Details"),e.qZA(),e.TgZ(28,"div",9)(29,"ul")(30,"li")(31,"strong"),e._uU(32," Name : "),e.qZA(),e._uU(33),e.qZA(),e.TgZ(34,"li")(35,"strong"),e._uU(36," Address : "),e.qZA(),e._uU(37),e.qZA(),e.TgZ(38,"li")(39,"strong"),e._uU(40," Phone : "),e.qZA(),e._uU(41),e.qZA(),e.TgZ(42,"li")(43,"strong"),e._uU(44," Price : "),e.qZA(),e._uU(45),e.ALo(46,"currency"),e.qZA()(),e._UZ(47,"hr"),e.TgZ(48,"div")(49,"h4"),e._uU(50,"Clinic Images"),e.qZA(),e.TgZ(51,"swiper",10),e.YNc(52,qe,1,0,null,11),e.qZA()(),e._UZ(53,"hr"),e.TgZ(54,"div",12)(55,"h4"),e._uU(56,"Clinic services"),e.qZA(),e.TgZ(57,"ul",13),e.YNc(58,Je,2,1,"li",11),e.qZA()()()(),e.TgZ(59,"div",8),e._UZ(60,"time-table",14),e.qZA()()}if(2&t){const o=e.MAs(8);e.xp6(4),e.Q6J("matMenuTriggerFor",o),e.xp6(5),e.Q6J("matTooltip",0==(null==n.clinic||null==n.clinic.times?null:n.clinic.times.length)?"Please add clinic times!":""),e.xp6(5),e.Q6J("ngIf",(null==n.clinic||null==n.clinic.ad?null:n.clinic.ad.length)>0),e.xp6(19),e.hij(" ",null==n.clinic?null:n.clinic.name," "),e.xp6(4),e.hij(" ",null==n.clinic?null:n.clinic.address," "),e.xp6(4),e.hij(" ",null==n.clinic?null:n.clinic.phone," "),e.xp6(4),e.hij(" ",e.xi3(46,16,null==n.clinic?null:n.clinic.price,"EGP")," "),e.xp6(6),e.Q6J("effect","coverflow")("grabCursor",!0)("centeredSlides",!0)("slidesPerView",1)("coverflowEffect",e.DdM(19,Me))("pagination",e.DdM(20,De)),e.xp6(1),e.Q6J("ngForOf",null==n.clinic?null:n.clinic.images),e.xp6(6),e.Q6J("ngForOf",null==n.clinic?null:n.clinic.services),e.xp6(2),e.Q6J("clinicId",n.id)}},dependencies:[p.sg,p.O5,C.lW,I.VK,I.OP,I.p6,d.Hw,m.TO,m.KE,m.hX,m.R9,_.Nt,V.gM,$.Rr,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.qQ,l.Fd,l.sg,l.u,z.BN,J.nF,J.YC,Ae,p.H9],styles:[".swiper[_ngcontent-%COMP%]{width:90%;height:100%;margin-left:auto;margin-right:auto}.details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}img[_ngcontent-%COMP%]{width:100%;height:100%}.details[_ngcontent-%COMP%]{padding:8px;border-right:1px solid #ccc}@media (max-width : 768px){.details[_ngcontent-%COMP%]{border-right:unset}}.services[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:32px}.services[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:20px;list-style:disc}"]}),i})();function Fe(i,s){if(1&i&&(e.TgZ(0,"h4",17),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.isEditing?"Edit Clinic":"Add new clinic"," ")}}function Oe(i,s){1&i&&(e.TgZ(0,"h4",18),e._uU(1," Attention! "),e.qZA())}function Pe(i,s){1&i&&(e.TgZ(0,"h5"),e._uU(1," Are you sure you want to delete this clinic ? "),e.qZA())}function Ye(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"span",26),e._uU(1),e.TgZ(2,"span",37),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.clearImages())}),e.TgZ(3,"mat-icon"),e._uU(4,"cancel"),e.qZA()()()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij("",t.imagesArray.length," files selected ")}}function Qe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-chip",38),e.NdJ("removed",function(){const a=e.CHM(t).$implicit,r=e.oxw(3);return e.KtG(r.removeService(a))}),e._uU(1),e.TgZ(2,"button",39)(3,"mat-icon"),e._uU(4,"cancel"),e.qZA()()()}if(2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t," ")}}function Ee(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onAdd())}),e.TgZ(1,"mat-form-field",20)(2,"mat-label"),e._uU(3,"Clinic name"),e.qZA(),e._UZ(4,"input",21),e.qZA(),e.TgZ(5,"mat-form-field",20)(6,"mat-label"),e._uU(7,"Address"),e.qZA(),e._UZ(8,"input",22),e.qZA(),e.TgZ(9,"mat-form-field",20)(10,"mat-label"),e._uU(11,"Phone"),e.qZA(),e._UZ(12,"input",23),e.qZA(),e.TgZ(13,"mat-form-field",20)(14,"mat-label"),e._uU(15,"Price"),e.qZA(),e._UZ(16,"input",24),e.qZA(),e.TgZ(17,"div",25)(18,"div",26)(19,"button",27),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(23);return e.KtG(o.click())}),e._uU(20,"Clinic images"),e.qZA(),e.YNc(21,Ye,5,1,"span",28),e.qZA(),e.TgZ(22,"input",29,30),e.NdJ("change",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.pickImages(o))}),e.qZA()(),e.TgZ(24,"mat-form-field",20)(25,"mat-label"),e._uU(26,"Services"),e.qZA(),e.TgZ(27,"mat-chip-list",null,31),e.YNc(29,Qe,5,1,"mat-chip",32),e.TgZ(30,"input",33),e.NdJ("matChipInputTokenEnd",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.addService(o))}),e.qZA()()(),e.TgZ(31,"div",34)(32,"button",35),e._uU(33),e.qZA(),e.TgZ(34,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().close,a=e.oxw();return e.KtG(o(a.clearForm()))}),e._uU(35,"Cancel"),e.qZA()()()}if(2&i){const t=e.MAs(28),n=e.oxw(2);e.Q6J("formGroup",n.form),e.xp6(21),e.Q6J("ngIf",n.imagesArray.length>0),e.xp6(8),e.Q6J("ngForOf",n.servicesArray),e.xp6(1),e.Q6J("matChipInputFor",t)("matChipInputSeparatorKeyCodes",n.separatorKeysCodes),e.xp6(3),e.hij(" ",n.isEditing?"Edit":"Add"," ")}}function Ge(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",40)(1,"button",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onDelete())}),e._uU(2,"Delete"),e.qZA(),e.TgZ(3,"button",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().close;return e.KtG(o())}),e._uU(4,"Close"),e.qZA()()}}function Le(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",10),e.YNc(1,Fe,2,1,"h4",11),e.YNc(2,Oe,2,0,"h4",12),e.TgZ(3,"button",13),e.NdJ("click",function(){const a=e.CHM(t).dismiss,r=e.oxw();return e.KtG(a(r.clearForm()))}),e.qZA()(),e.TgZ(4,"div",14),e.YNc(5,Pe,2,0,"h5",4),e.YNc(6,Ee,36,6,"form",15),e.qZA(),e.YNc(7,Ge,5,0,"div",16)}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isDeleting),e.xp6(1),e.Q6J("ngIf",t.isDeleting),e.xp6(3),e.Q6J("ngIf",t.isDeleting),e.xp6(1),e.Q6J("ngIf",!t.isDeleting),e.xp6(1),e.Q6J("ngIf",t.isDeleting)}}function Ke(i,s){1&i&&(e.TgZ(0,"mat-label"),e._uU(1,"Select clinic"),e.qZA())}function je(i,s){1&i&&(e.TgZ(0,"mat-label"),e._uU(1,"No clinics..."),e.qZA())}function He(i,s){if(1&i&&(e.TgZ(0,"mat-option",43),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.name," ")}}function Be(i,s){1&i&&(e.TgZ(0,"div",44),e._UZ(1,"mat-spinner"),e.qZA())}function Re(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"clinic",45),e.NdJ("edit",function(o){e.CHM(t);const a=e.oxw(),r=e.MAs(1);return e.KtG(a.editClinic(o,r))})("delete",function(o){e.CHM(t);const a=e.oxw(),r=e.MAs(1);return e.KtG(a.deleteClinic(o,r))}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("id",t.clinicId)}}let We=(()=>{class i{constructor(t,n,o,a){this.modalService=n,this.clinicService=o,this.fb=a,this.separatorKeysCodes=[R.K5],this.user=JSON.parse(localStorage.getItem("user")),this.imagesArray=[],this.servicesArray=[],this.clinics=[],this.clinicId="",t.backdrop="static",t.keyboard=!1}ngOnInit(){this.getClinics(),this.clinicService.clinicsUpdated.subscribe(t=>{this.getClinics(),this.modalService.dismissAll()}),this.form=this.fb.group({name:["",l.kI.required],address:["",l.kI.required],phone:["",l.kI.required],price:["",l.kI.required],image:this.fb.array([]),services:[""]})}create(t){return this.fb.group(t)}get cImages(){return this.form.get("image")}getClinic(t){console.log(t),this.clinicId=t,this.isLoading=!0,setTimeout(()=>{this.isLoading=!1},1e3)}addService(t){const n=(t.value||"").trim();n&&this.servicesArray.push(n),t.chipInput.clear(),this.form.get("services").setValue(null)}removeService(t){const n=this.servicesArray.indexOf(t);n>=0&&this.servicesArray.splice(n,1)}pickImages(t){if(this.imagesArray=t.target.files,console.log(this.imagesArray),this.imagesArray)for(let n of this.imagesArray){const o=new FileReader;o.onload=a=>{this.cImages.push(this.create({image:n,name:n.name}))},o.readAsDataURL(n)}}clearImages(){this.imagesArray=[]}clearForm(){this.clinicMod&&this.singleClinicSub.unsubscribe(),this.form.reset(),this.cImages.clear(),this.imagesArray=[],this.servicesArray=[]}addClinic(t){this.imagesArray=[],this.servicesArray=[],this.isDeleting=!1,this.isEditing=!1,this.modalService.open(t)}onAdd(){this.form.invalid||(this.isEditing?(this.isLoading=!0,this.clinicService.editClinic(this.clinicMod.id,this.form.value.name,this.form.value.address,this.form.value.phone,this.form.value.price,this.form.value.image,this.servicesArray,this.user.id),this.clearForm(),setTimeout(()=>{this.isLoading=!1},500)):this.clinicService.addClinic(this.form.value.name,this.form.value.address,this.form.value.phone,this.form.value.price,this.imagesArray,this.servicesArray,this.user.id))}deleteClinic(t,n){this.isDeleting=!0,this.clinicId=t._id,this.modalService.open(n)}onDelete(){this.isLoading=!0,this.clinicService.deleteClinic(this.clinicId),this.modalService.dismissAll(),setTimeout(()=>{this.clinicId="",this.isLoading=!1},500)}editClinic(t,n){this.isDeleting=!1,this.isEditing=!0,this.clinicId=t._id,this.clinicService.getSingleClinic(this.clinicId),this.singleClinicSub=this.clinicService.singleClinic.subscribe(o=>{this.clinicMod={id:o._id,name:o.name,address:o.address,phone:o.phone,price:o.price,images:o.images,services:o.services},this.form.patchValue({name:this.clinicMod.name,address:this.clinicMod.address,phone:this.clinicMod.phone,price:this.clinicMod.price});for(let a of this.clinicMod.images)this.imagesArray.push(a),this.cImages.push(this.create({image:a}));this.form.get("image").updateValueAndValidity(),console.log(this.form.value.image);for(let a=0;a<this.clinicMod.services.length;a++)this.servicesArray.push(this.clinicMod.services[a])}),this.modalService.open(n)}getClinics(){this.clinicService.getClinics(this.user.id),this.clinicService.clinicsArray.subscribe(t=>{this.clinics=t})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g.NM),e.Y36(g.FF),e.Y36(U.j),e.Y36(l.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-clinics"]],features:[e._Bn([g.NM,g.FF])],decls:15,vars:6,consts:[["content",""],[1,"holder"],[1,"header","d-flex","justify-content-between","align-items-baseline"],["appearance","outline",1,"clinic-select"],[4,"ngIf"],[3,"disabled","selectionChange"],["clinic",""],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","",1,"mainBtn",3,"click"],["class","d-flex justify-content-center align-items-center",4,"ngIf"],[1,"modal-header"],["class","modal-title","id","modal-basic-title",4,"ngIf"],["class","modal-title text-danger","id","modal-basic-title",4,"ngIf"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["class","d-flex flex-column",3,"formGroup","ngSubmit",4,"ngIf"],["class","modal-footer",4,"ngIf"],["id","modal-basic-title",1,"modal-title"],["id","modal-basic-title",1,"modal-title","text-danger"],[1,"d-flex","flex-column",3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","type","text","formControlName","name"],["matInput","","type","text","formControlName","address"],["matInput","","type","text","formControlName","phone"],["matInput","","type","tel","formControlName","price"],[2,"padding-bottom","1.34375em"],[1,"d-flex","align-items-center"],["mat-raised-button","","type","button",1,"mainBtn","me-1",3,"click"],["class","d-flex align-items-center",4,"ngIf"],["type","file","multiple","","name","image",1,"d-none",3,"change"],["images",""],["servicesList",""],[3,"removed",4,"ngFor","ngForOf"],["placeholder","New service","formControlName","services",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],[1,"modal-footer","w-100"],["mat-raised-button","",1,"mainBtn","me-2"],["mat-raised-button","","type","button",3,"click"],[2,"cursor","pointer",3,"click"],[3,"removed"],["matChipRemove",""],[1,"modal-footer"],["mat-raised-button","",1,"mainBtn","me-2",3,"click"],["mat-raised-button","",3,"click"],[3,"value"],[1,"d-flex","justify-content-center","align-items-center"],[3,"id","edit","delete"]],template:function(t,n){if(1&t){const o=e.EpF();e.YNc(0,Le,8,5,"ng-template",null,0,e.W1O),e.TgZ(2,"div",1)(3,"div",2)(4,"mat-form-field",3),e.YNc(5,Ke,2,0,"mat-label",4),e.YNc(6,je,2,0,"mat-label",4),e.TgZ(7,"mat-select",5,6),e.NdJ("selectionChange",function(){e.CHM(o);const r=e.MAs(8);return e.KtG(n.getClinic(r.value))}),e.YNc(9,He,2,2,"mat-option",7),e.qZA()(),e.TgZ(10,"button",8),e.NdJ("click",function(){e.CHM(o);const r=e.MAs(1);return e.KtG(n.addClinic(r))}),e._uU(11,"Add clinic"),e.qZA()(),e._UZ(12,"hr"),e.YNc(13,Be,2,0,"div",9),e.YNc(14,Re,2,1,"div",4),e.qZA()}2&t&&(e.xp6(5),e.Q6J("ngIf",n.clinics.length>0),e.xp6(1),e.Q6J("ngIf",0==n.clinics.length),e.xp6(1),e.Q6J("disabled",0==n.clinics.length),e.xp6(2),e.Q6J("ngForOf",n.clinics),e.xp6(4),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("ngIf",n.clinicId.length>0&&!n.isLoading))},dependencies:[p.sg,p.O5,C.lW,d.Hw,m.KE,m.hX,_.Nt,Z.gD,y.ey,N.Ou,b.qn,b.HS,b.oH,b.qH,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,ke],styles:[".holder{border-radius:5px;border:1px solid #f0f0f0;padding:10px}:host{width:100%;height:100%;display:block}form mat-form-field{width:100%}.clinic-select{width:30%}@media (max-width : 768px){.header{flex-direction:column-reverse}.header button{margin:15px 0}.clinic-select{width:60%}}\n"],encapsulation:2}),i})(),Xe=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"dashboard works!"),e.qZA())}}),i})();var Ve=c(9043),$e=c(249);function ze(i,s){if(1&i&&(e.TgZ(0,"div",9),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",t.message," ")}}const et=[{path:"",component:(()=>{class i{constructor(t){this.user=JSON.parse(localStorage.getItem("user")),this.message="",t.doctorsUpdated.subscribe(n=>{console.log(n),this.message=n,setTimeout(()=>{this.message=""},3e3)})}getState(t){return t.activatedRouteData.state}scrollUp(){window.scrollTo({top:0,behavior:"smooth"})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["doctor-profile"]],decls:9,vars:3,consts:[[1,"container"],["class","alert alert-success mt-2",4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"col-xxl-3","col-xl-3","col-lg-3","col-md-12","col-sm-12","col-12",2,"overflow","hidden !important","position","relative"],[3,"user"],[1,"col-xxl-9","col-xl-9","col-lg-9","col-md-12","col-sm-12","col-12"],[3,"activate"],["o","outlet"],[1,"alert","alert-success","mt-2"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,ze,2,1,"div",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4),e._UZ(5,"user-card",5),e.qZA(),e.TgZ(6,"div",6)(7,"router-outlet",7,8),e.NdJ("activate",function(){return n.scrollUp()}),e.qZA()()()()),2&t){const o=e.MAs(8);e.xp6(1),e.Q6J("ngIf",n.message.length>0),e.xp6(4),e.Q6J("user",n.user),e.xp6(1),e.Q6J("@slide",n.getState(o))}},dependencies:[p.O5,h.lC,$e.r],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:block}.container-fluid[_ngcontent-%COMP%]{margin-top:30px;padding-left:30px!important;padding-right:30px!important}.col-9[_ngcontent-%COMP%]{border:1px solid #f0f0f0}"],data:{animation:[Ve.T]}}),i})(),children:[{path:"dashboard",component:Xe,data:{state:"dashboard"}},{path:"appointments",component:K,data:{state:"appointments"}},{path:"clinics",component:We,data:{state:"clinics"}},{path:"reviews",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-reviews"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"reviews works!"),e.qZA())}}),i})(),data:{state:"reviews"}},{path:"account-settings",component:L,data:{state:"settings"}},{path:"change-password",component:B,data:{state:"password"}}]}];let tt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[h.Bz.forChild(et),h.Bz]}),i})()}}]);